<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"> 

<h:head>
	<title>Login - Presidencia</title>
	<!--  <h:outputStylesheet name="css/jquery-ui.css"></h:outputStylesheet> -->
	<style type="text/css">
		.ui-dialog .ui-dialog-titlebar {
   			display: none !important;}
		.background{color:#FAFAFA}
	</style>
</h:head> 

<h:body>
  <h:form id="form" prependId="false">

    <p:dialog  id="dialog"  widgetVar="dlg" resizable="false" height="395" width="520" showEffect="explode" hideEffect="slide" closable="false" onHide="menu()" style="background-color:#DCDCDC;">
		<p:spacer height="10"></p:spacer>
		<div align="center">
			<h:panelGrid>
			<p:outputLabel  value="Sistema de Gestion de Proyectos" />
			<p:outputLabel  value="para Tecnologias de la Informacion" />
			</h:panelGrid>
		</div>
		<p:spacer height="10"></p:spacer>
		<p:graphicImage library="images" name="separator_header_top.png" width="501"></p:graphicImage>
		<p:spacer height="80"></p:spacer>
		<div  align="center">
		<h:panelGrid columns="2" cellpadding="5">
			<p:outputLabel for="j_username" value="Usuario:" style="color:gray"/>
			<p:inputText value="#{loginBean.username}" 
					id="j_username" widgetVar="user" binding="#{loginBean.itUsername}" style="color:gray"/>
			
			<p:outputLabel for="j_password" value="Password:" style="color:gray"/>
			<p:inputText value="#{loginBean.password}" 
					id="j_password" widgetVar="pass" type="password" binding="#{loginBean.itPassword}" style="color:gray"/>
			<h:outputText for="_spring_security_remember_me" value="Remember me" style="color:gray"/>
  <p:selectBooleanCheckbox id="_spring_security_remember_me"
   value="#{loginBean.rememberMe}" />
			
			<f:facet name="footer">
			<div  align="center">
				<p:commandButton type="submit" id="loginButton" value="Entrar" ajax="false"
					actionListener="#{loginBean.login}"  update="username password" style="color:gray"/>
			</div>
			</f:facet>
		</h:panelGrid>
		</div>
		<p:graphicImage library="images" name="logo.png" style="float:right"></p:graphicImage>
    </p:dialog> 
    
</h:form>

<script type="text/javascript">
$(document).ready(function(){
	dlg.show();
});

	function handleLoginRequest(xhr, status, args) {
        if(args.validationFailed || !args.loggedIn) {
            dlg.jq.effect("shake", { times:3 }, 100);
        } 
        else {
            dlg.hide();
        }
    }

    function menu()
    {setTimeout(function() {
    	document.location = "Catalogo.jsf";
    }, 500);
        }
</script>
</h:body> 
</html>

